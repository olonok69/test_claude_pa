<svg viewBox="0 0 1400 900" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .node-visitor-current { fill: #4A90E2; stroke: #2E5A8A; stroke-width: 2; }
      .node-visitor-past { fill: #5AC8FA; stroke: #2E8ABA; stroke-width: 2; }
      .node-session-current { fill: #7ED321; stroke: #5A9B16; stroke-width: 2; }
      .node-session-past { fill: #9ED951; stroke: #6AB526; stroke-width: 2; }
      .node-stream { fill: #F5A623; stroke: #B8801A; stroke-width: 2; }
      .text-label { font-family: Arial, sans-serif; font-size: 11px; font-weight: bold; text-anchor: middle; fill: white; }
      .text-count { font-family: Arial, sans-serif; font-size: 9px; text-anchor: middle; fill: white; }
      .text-small { font-family: Arial, sans-serif; font-size: 10px; text-anchor: middle; fill: #333; }
      .relationship { stroke: #666; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .relationship-thick { stroke: #333; stroke-width: 3; fill: none; marker-end: url(#arrowhead); }
      .relationship-dashed { stroke: #999; stroke-width: 1.5; stroke-dasharray: 5,5; fill: none; marker-end: url(#arrowhead); }
      .title { font-family: Arial, sans-serif; font-size: 20px; font-weight: bold; text-anchor: middle; fill: #333; }
      .legend-text { font-family: Arial, sans-serif; font-size: 11px; fill: #333; }
      .rel-label { font-family: Arial, sans-serif; font-size: 9px; fill: #666; text-anchor: middle; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="700" y="30" class="title">Neo4j Veterinary Show Database - Production Schema</text>
  
  <!-- Current Year Visitors -->
  <g id="current-visitors">
    <text x="200" y="80" class="text-small">Current Year Visitors</text>
    <rect x="120" y="100" width="160" height="80" rx="10" class="node-visitor-current"/>
    <text x="200" y="125" class="text-label">Visitor_this_year</text>
    <text x="200" y="140" class="text-count">1,933 nodes</text>
    <text x="200" y="155" class="text-count">BVA 2025 attendees</text>
    <text x="200" y="170" class="text-count">Job roles, specializations</text>
  </g>

  <!-- Past Year Visitors (BVA) -->
  <g id="past-visitors-bva">
    <text x="200" y="220" class="text-small">Past BVA Visitors</text>
    <rect x="120" y="240" width="160" height="80" rx="10" class="node-visitor-past"/>
    <text x="200" y="265" class="text-label">Visitor_last_year_bva</text>
    <text x="200" y="280" class="text-count">448 nodes</text>
    <text x="200" y="295" class="text-count">BVA 2024 attendees</text>
    <text x="200" y="310" class="text-count">Historical data</text>
  </g>

  <!-- Past Year Visitors (LVA) -->
  <g id="past-visitors-lva">
    <text x="200" y="360" class="text-small">Past LVA Visitors</text>
    <rect x="120" y="380" width="160" height="80" rx="10" class="node-visitor-past"/>
    <text x="200" y="405" class="text-label">Visitor_last_year_lva</text>
    <text x="200" y="420" class="text-count">240 nodes</text>
    <text x="200" y="435" class="text-count">LVE 2024 attendees</text>
    <text x="200" y="450" class="text-count">Historical data</text>
  </g>

  <!-- Streams (Central) -->
  <g id="streams">
    <text x="700" y="80" class="text-small">Veterinary Specialization Streams</text>
    <circle cx="700" cy="140" r="40" class="node-stream"/>
    <text x="700" y="135" class="text-label">Stream</text>
    <text x="700" y="150" class="text-count">52 nodes</text>
    
    <!-- Sample stream labels around the main circle -->
    <text x="580" y="100" class="text-small">Surgery</text>
    <text x="820" y="100" class="text-small">Emergency</text>
    <text x="580" y="180" class="text-small">Cardiology</text>
    <text x="820" y="180" class="text-small">Dermatology</text>
    <text x="640" y="200" class="text-small">Equine</text>
    <text x="760" y="200" class="text-small">Small Animal</text>
    <text x="700" y="220" class="text-small">... 46 more streams</text>
  </g>

  <!-- Current Sessions -->
  <g id="current-sessions">
    <text x="1050" y="80" class="text-small">Current Sessions</text>
    <rect x="970" y="100" width="160" height="80" rx="10" class="node-session-current"/>
    <text x="1050" y="125" class="text-label">Sessions_this_year</text>
    <text x="1050" y="140" class="text-count">120 nodes</text>
    <text x="1050" y="155" class="text-count">BVA 2025 sessions</text>
    <text x="1050" y="170" class="text-count">Recommendations active</text>
  </g>

  <!-- Past Sessions -->
  <g id="past-sessions">
    <text x="1050" y="220" class="text-small">Past Sessions</text>
    <rect x="970" y="240" width="160" height="80" rx="10" class="node-session-past"/>
    <text x="1050" y="265" class="text-label">Sessions_past_year</text>
    <text x="1050" y="280" class="text-count">447 nodes</text>
    <text x="1050" y="295" class="text-count">Historical sessions</text>
    <text x="1050" y="310" class="text-count">Attendance tracked</text>
  </g>

  <!-- Relationships -->
  
  <!-- job_to_stream (Current visitors to streams) - MASSIVE relationship -->
  <line x1="280" y1="140" x2="660" y2="140" class="relationship-thick"/>
  <text x="470" y="135" class="rel-label">job_to_stream (81,983)</text>
  
  <!-- specialization_to_stream (Past visitors to streams) -->
  <line x1="280" y1="280" x2="660" y2="160" class="relationship"/>
  <text x="470" y="220" class="rel-label">specialization_to_stream (6,483)</text>
  
  <line x1="280" y1="420" x2="660" y2="160" class="relationship"/>
  
  <!-- HAS_STREAM (Sessions to streams) -->
  <line x1="740" y1="140" x2="970" y2="140" class="relationship"/>
  <text x="855" y="135" class="rel-label">HAS_STREAM (564)</text>
  
  <line x1="740" y1="150" x2="970" y2="280" class="relationship"/>
  
  <!-- IS_RECOMMENDED (Visitors to current sessions) -->
  <line x1="280" y1="120" x2="970" y2="120" class="relationship-dashed"/>
  <text x="625" y="115" class="rel-label">IS_RECOMMENDED (3,837)</text>
  
  <!-- attended_session (Past visitors to past sessions) -->
  <line x1="280" y1="300" x2="970" y2="300" class="relationship"/>
  <text x="625" y="295" class="rel-label">attended_session (4,714)</text>
  
  <line x1="280" y1="440" x2="970" y2="300" class="relationship"/>
  
  <!-- Same_Visitor (Connecting past and current visitors) -->
  <path d="M 200 240 Q 100 200 200 180" class="relationship-dashed"/>
  <text x="120" y="210" class="rel-label">Same_Visitor (594)</text>
  
  <path d="M 200 380 Q 100 340 200 180" class="relationship-dashed"/>

  <!-- Legend -->
  <g id="legend" transform="translate(50, 520)">
    <text x="0" y="0" class="legend-text" font-weight="bold">Node Types:</text>
    
    <rect x="0" y="15" width="25" height="15" rx="2" class="node-visitor-current"/>
    <text x="35" y="27" class="legend-text">Current Year Visitors (1,933) - BVA 2025 attendees</text>
    
    <rect x="0" y="35" width="25" height="15" rx="2" class="node-visitor-past"/>
    <text x="35" y="47" class="legend-text">Past Year Visitors (688 total) - BVA 2024 (448) + LVE 2024 (240)</text>
    
    <circle cx="12" cy="62" r="8" class="node-stream"/>
    <text x="35" y="67" class="legend-text">Streams (52) - Veterinary specialization areas</text>
    
    <rect x="0" y="75" width="25" height="15" rx="2" class="node-session-current"/>
    <text x="35" y="87" class="legend-text">Current Sessions (120) - BVA 2025 sessions with recommendations</text>
    
    <rect x="0" y="95" width="25" height="15" rx="2" class="node-session-past"/>
    <text x="35" y="107" class="legend-text">Past Sessions (447) - Historical sessions with attendance data</text>
  </g>

  <!-- Relationship Legend -->
  <g id="rel-legend" transform="translate(50, 650)">
    <text x="0" y="0" class="legend-text" font-weight="bold">Relationships:</text>
    
    <line x1="0" y1="20" x2="30" y2="20" class="relationship-thick"/>
    <text x="40" y="25" class="legend-text">job_to_stream (81,983) - Job roles mapped to streams</text>
    
    <line x1="0" y1="40" x2="30" y2="40" class="relationship"/>
    <text x="40" y="45" class="legend-text">specialization_to_stream (6,483) - Specializations to streams</text>
    
    <line x1="0" y1="60" x2="30" y2="60" class="relationship"/>
    <text x="40" y="65" class="legend-text">HAS_STREAM (564) - Sessions categorized by stream</text>
    
    <line x1="0" y1="80" x2="30" y2="80" class="relationship-dashed"/>
    <text x="40" y="85" class="legend-text">IS_RECOMMENDED (3,837) - Session recommendations to visitors</text>
    
    <line x1="0" y1="100" x2="30" y2="100" class="relationship"/>
    <text x="40" y="105" class="legend-text">attended_session (4,714) - Historical session attendance</text>
    
    <line x1="0" y1="120" x2="30" y2="120" class="relationship-dashed"/>
    <text x="40" y="125" class="legend-text">Same_Visitor (594) - Links returning attendees across years</text>
  </g>

  <!-- Database Stats -->
  <g id="database-stats" transform="translate(800, 520)">
    <text x="0" y="0" class="legend-text" font-weight="bold">Database Statistics:</text>
    <text x="0" y="20" class="legend-text">• Total Nodes: 3,240 (Visitors + Sessions + Streams)</text>
    <text x="0" y="35" class="legend-text">• Total Relationships: 97,675</text>
    <text x="0" y="50" class="legend-text">• Shows Covered: BVA 2024, LVE 2024, BVA 2025</text>
    <text x="0" y="65" class="legend-text">• Active Recommendations: 3,837 personalized suggestions</text>
    <text x="0" y="80" class="legend-text">• Historical Attendance: 4,714 session-visitor connections</text>
    <text x="0" y="95" class="legend-text">• Returning Visitors: 594 tracked across multiple years</text>
    <text x="0" y="110" class="legend-text">• Specialization Areas: 52 veterinary streams</text>
    
    <text x="0" y="140" class="legend-text" font-weight="bold">Key Features:</text>
    <text x="0" y="155" class="legend-text">• Recommendation engine (IS_RECOMMENDED)</text>
    <text x="0" y="170" class="legend-text">• Cross-year visitor tracking (Same_Visitor)</text>
    <text x="0" y="185" class="legend-text">• Massive job-to-stream mapping (81K+ connections)</text>
    <text x="0" y="200" class="legend-text">• Historical attendance analysis</text>
  </g>

  <!-- Production Note -->
  <text x="700" y="860" class="text-small" style="font-style: italic; font-weight: bold;">
    Production Database - Live Schema as of Current Connection
  </text>
</svg>