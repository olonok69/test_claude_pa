<?xml version="1.0" encoding="UTF-8"?>
<svg viewBox="0 0 1600 1000" xmlns="http://www.w3.org/2000/svg">
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#2d3436"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="1600" height="1000" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="800" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#2c3e50">
    CSM MCP Servers - AI-Powered Multi-Database Integration Platform
  </text>
  
  <!-- USER LAYER -->
  <rect x="50" y="80" width="1500" height="80" rx="10" fill="#6c5ce7" stroke="#5a4fcf" stroke-width="2"/>
  <text x="800" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">
    USER LAYER
  </text>
  <text x="800" y="125" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">
    Streamlit Interface ‚Ä¢ Authentication ‚Ä¢ Session Management ‚Ä¢ SSL/HTTPS Support
  </text>
  
  <!-- User Interface Components -->
  <g transform="translate(80, 180)">
    <!-- Authentication -->
    <rect x="0" y="0" width="200" height="120" rx="8" fill="#74b9ff" stroke="#0984e3" stroke-width="2"/>
    <text x="100" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      üîê Authentication
    </text>
    <text x="10" y="45" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ User Login System
    </text>
    <text x="10" y="60" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ bcrypt Hashing
    </text>
    <text x="10" y="75" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Session Management
    </text>
    <text x="10" y="90" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Role-Based Access
    </text>
    <text x="10" y="105" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Secure Cookies
    </text>
    
    <!-- Streamlit Client -->
    <rect x="230" y="0" width="200" height="120" rx="8" fill="#00b894" stroke="#00a085" stroke-width="2"/>
    <text x="330" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      üñ•Ô∏è Streamlit Client
    </text>
    <text x="240" y="45" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ AI Chat Interface
    </text>
    <text x="240" y="60" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Multi-Provider Support
    </text>
    <text x="240" y="75" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Conversation History
    </text>
    <text x="240" y="90" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Tool Management
    </text>
    <text x="240" y="105" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Real-time Updates
    </text>
    
    <!-- Chat Memory -->
    <rect x="460" y="0" width="200" height="120" rx="8" fill="#00cec9" stroke="#00b3b3" stroke-width="2"/>
    <text x="560" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      üí¨ Chat Memory
    </text>
    <text x="470" y="45" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Conversation Storage
    </text>
    <text x="470" y="60" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Context Management
    </text>
    <text x="470" y="75" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ User Isolation
    </text>
    <text x="470" y="90" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Session Persistence
    </text>
    
    <!-- AI Providers -->
    <rect x="690" y="0" width="200" height="120" rx="8" fill="#a29bfe" stroke="#6c5ce7" stroke-width="2"/>
    <text x="790" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      ü§ñ AI Providers
    </text>
    <text x="700" y="45" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ OpenAI GPT-4
    </text>
    <text x="700" y="60" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Azure OpenAI
    </text>
    <text x="700" y="75" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Dynamic Switching
    </text>
    <text x="700" y="90" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Parameter Control
    </text>
    
    <!-- Information Flow -->
    <rect x="920" y="0" width="280" height="120" rx="8" fill="#fd79a8" stroke="#e84393" stroke-width="2"/>
    <text x="1060" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      ‚ÑπÔ∏è Information Flow
    </text>
    <g fill="white" font-family="Arial, sans-serif" font-size="11">
      <circle cx="940" cy="45" r="4" fill="#e17055"/>
      <text x="950" y="49">1. User Query</text>
      <circle cx="940" cy="60" r="4" fill="#00b894"/>
      <text x="950" y="64">2. AI Processing</text>
      <circle cx="940" cy="75" r="4" fill="#fdcb6e"/>
      <text x="950" y="79">3. Tool Selection</text>
      <circle cx="940" cy="90" r="4" fill="#6c5ce7"/>
      <text x="950" y="94">4. Data Query</text>
      <circle cx="940" cy="105" r="4" fill="#fd79a8"/>
      <text x="950" y="109">5. Generated Response</text>
    </g>
    
    <!-- Technology Stack -->
    <rect x="1230" y="0" width="160" height="120" rx="8" fill="#636e72" stroke="#2d3436" stroke-width="2"/>
    <text x="1310" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      üõ†Ô∏è Tech Stack
    </text>
    <text x="1240" y="45" font-family="Arial, sans-serif" font-size="10" fill="white">
      Frontend: Streamlit
    </text>
    <text x="1240" y="58" font-family="Arial, sans-serif" font-size="10" fill="white">
      Backend: FastAPI + Express
    </text>
    <text x="1240" y="71" font-family="Arial, sans-serif" font-size="10" fill="white">
      AI: LangChain + OpenAI/Azure
    </text>
    <text x="1240" y="84" font-family="Arial, sans-serif" font-size="10" fill="white">
      Protocol: MCP via SSE
    </text>
    <text x="1240" y="97" font-family="Arial, sans-serif" font-size="10" fill="white">
      Container: Docker Compose
    </text>
    <text x="1240" y="110" font-family="Arial, sans-serif" font-size="10" fill="white">
      Security: SSL/HTTPS
    </text>
  </g>
  
  <!-- Connection Lines from User Layer -->
  <line x1="800" y1="160" x2="800" y2="340" stroke="#2d3436" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- AI ORCHESTRATION LAYER -->
  <rect x="50" y="340" width="1500" height="80" rx="10" fill="#2d3436" stroke="#636e72" stroke-width="2"/>
  <text x="800" y="365" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">
    AI ORCHESTRATION LAYER
  </text>
  <text x="800" y="385" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">
    LangChain Agent ‚Ä¢ Tool Selection ‚Ä¢ Context Processing ‚Ä¢ Response Generation
  </text>
  
  <!-- AI Components -->
  <g transform="translate(80, 440)">
    <!-- LangChain Agent -->
    <rect x="0" y="0" width="200" height="100" rx="8" fill="#fd79a8" stroke="#e84393" stroke-width="2"/>
    <text x="100" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      üß† LangChain Agent
    </text>
    <text x="10" y="45" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ ReAct Architecture
    </text>
    <text x="10" y="60" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Tool Routing
    </text>
    <text x="10" y="75" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Context Memory
    </text>
    <text x="10" y="90" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Chain of Thought
    </text>
    
    <!-- Tool Selector -->
    <rect x="230" y="0" width="200" height="100" rx="8" fill="#fdcb6e" stroke="#e17055" stroke-width="2"/>
    <text x="330" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      üîß Tool Selector
    </text>
    <text x="240" y="45" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Intent Classification
    </text>
    <text x="240" y="60" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Multi-tool Workflows
    </text>
    <text x="240" y="75" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Schema Validation
    </text>
    <text x="240" y="90" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Error Recovery
    </text>
    
    <!-- Prompt Engine -->
    <rect x="460" y="0" width="200" height="100" rx="8" fill="#e17055" stroke="#d63031" stroke-width="2"/>
    <text x="560" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      üìù Prompt Engine
    </text>
    <text x="470" y="45" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ System Prompts
    </text>
    <text x="470" y="60" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Context Enhancement
    </text>
    <text x="470" y="75" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Memory Integration
    </text>
    <text x="470" y="90" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Response Formatting
    </text>
    
    <!-- Response Handler -->
    <rect x="690" y="0" width="200" height="100" rx="8" fill="#00b894" stroke="#00a085" stroke-width="2"/>
    <text x="790" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      üìä Response Handler
    </text>
    <text x="700" y="45" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Stream Processing
    </text>
    <text x="700" y="60" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Tool Results
    </text>
    <text x="700" y="75" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Error Handling
    </text>
    <text x="700" y="90" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Format Conversion
    </text>
    
    <!-- Security Layer -->
    <rect x="920" y="0" width="470" height="100" rx="8" fill="#a29bfe" stroke="#6c5ce7" stroke-width="2"/>
    <text x="1155" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      üîí Security &amp; Validation Layer
    </text>
    <text x="930" y="45" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Input Sanitization ‚Ä¢ Authentication Validation ‚Ä¢ Rate Limiting ‚Ä¢ SQL Injection Prevention
    </text>
    <text x="930" y="60" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Permission Checks ‚Ä¢ Audit Logging ‚Ä¢ Session Management ‚Ä¢ Cross-Database Security
    </text>
    <text x="930" y="75" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ SSL/TLS Encryption ‚Ä¢ Token Validation ‚Ä¢ Data Privacy ‚Ä¢ Compliance Monitoring
    </text>
    <text x="930" y="90" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Error Masking ‚Ä¢ Secure Logging ‚Ä¢ Access Control ‚Ä¢ Multi-tenant Isolation
    </text>
  </g>
  
  <!-- Connection Lines to MCP Protocol -->
  <line x1="800" y1="540" x2="800" y2="580" stroke="#2d3436" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- MCP PROTOCOL LAYER -->
  <rect x="50" y="580" width="1500" height="50" rx="10" fill="#e17055" stroke="#d63031" stroke-width="2"/>
  <text x="800" y="605" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">
    MCP PROTOCOL (MODEL CONTEXT PROTOCOL)
  </text>
  <text x="800" y="620" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">
    Server-Sent Events ‚Ä¢ Tool Discovery ‚Ä¢ Schema Validation ‚Ä¢ Real-time Communication
  </text>
  
  <!-- MCP Server Instances -->
  <g transform="translate(200, 650)">
    <!-- MSSQL MCP Server -->
    <rect x="0" y="0" width="300" height="120" rx="8" fill="#e17055" stroke="#d63031" stroke-width="2"/>
    <text x="150" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      üóÉÔ∏è MSSQL MCP Server
    </text>
    <text x="10" y="45" font-family="Arial, sans-serif" font-size="11" fill="white">
      Port: 8008 | Transport: SSE
    </text>
    <text x="10" y="60" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Table Operations ‚Ä¢ SQL Execution
    </text>
    <text x="10" y="75" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ ODBC Integration ‚Ä¢ Data Sampling
    </text>
    <text x="10" y="90" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Schema Discovery ‚Ä¢ CRUD Operations
    </text>
    <text x="10" y="105" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Query Optimization ‚Ä¢ Health Monitoring
    </text>
    
    <!-- Neo4j MCP Server -->
    <rect x="330" y="0" width="300" height="120" rx="8" fill="#e17055" stroke="#d63031" stroke-width="2"/>
    <text x="480" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      üï∏Ô∏è Neo4j MCP Server
    </text>
    <text x="340" y="45" font-family="Arial, sans-serif" font-size="11" fill="white">
      Port: 8003 | Transport: SSE
    </text>
    <text x="340" y="60" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Graph Operations ‚Ä¢ Cypher Queries
    </text>
    <text x="340" y="75" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Node Management ‚Ä¢ Relationship Mapping
    </text>
    <text x="340" y="90" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Schema Discovery ‚Ä¢ Path Finding
    </text>
    <text x="340" y="105" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ APOC Integration ‚Ä¢ Graph Analytics
    </text>
    
    <!-- HubSpot MCP Server -->
    <rect x="660" y="0" width="300" height="120" rx="8" fill="#e17055" stroke="#d63031" stroke-width="2"/>
    <text x="810" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      üè¢ HubSpot MCP Server
    </text>
    <text x="670" y="45" font-family="Arial, sans-serif" font-size="11" fill="white">
      Port: 8004 | Transport: SSE
    </text>
    <text x="670" y="60" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ 25 CRM Tools ‚Ä¢ Contact Management
    </text>
    <text x="670" y="75" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Deal Operations ‚Ä¢ Association Management
    </text>
    <text x="670" y="90" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Property Management ‚Ä¢ Workflow Integration
    </text>
    <text x="670" y="105" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Engagement Tracking ‚Ä¢ UI Link Generation
    </text>
  </g>
  
  <!-- Connection Lines to External Sources -->
  <line x1="350" y1="770" x2="350" y2="800" stroke="#2d3436" stroke-width="3" marker-end="url(#arrowhead)"/>
  <line x1="530" y1="770" x2="530" y2="800" stroke="#2d3436" stroke-width="3" marker-end="url(#arrowhead)"/>
  <line x1="860" y1="770" x2="860" y2="800" stroke="#2d3436" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- EXTERNAL DATA SOURCES -->
  <rect x="50" y="800" width="1500" height="50" rx="10" fill="#8b4513" stroke="#5d2f0a" stroke-width="2"/>
  <text x="800" y="825" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">
    EXTERNAL DATA SOURCES
  </text>
  <text x="800" y="840" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">
    External APIs ‚Ä¢ Databases ‚Ä¢ Cloud Services
  </text>
  
  <!-- External Sources -->
  <g transform="translate(200, 870)">
    <!-- MSSQL Database -->
    <rect x="0" y="0" width="260" height="100" rx="8" fill="#cd853f" stroke="#8b4513" stroke-width="2"/>
    <text x="130" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      üóÑÔ∏è MSSQL Database
    </text>
    <text x="10" y="45" font-family="Arial, sans-serif" font-size="11" fill="white">
      SQL Server Platform
    </text>
    <text x="10" y="60" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Relational Tables ‚Ä¢ Stored Procedures
    </text>
    <text x="10" y="75" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ ODBC Driver 18 ‚Ä¢ SSL/TLS Support
    </text>
    <text x="10" y="90" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Enterprise Features ‚Ä¢ Backup &amp; Recovery
    </text>
    
    <!-- Neo4j Database -->
    <rect x="290" y="0" width="260" height="100" rx="8" fill="#cd853f" stroke="#8b4513" stroke-width="2"/>
    <text x="420" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      üï∏Ô∏è Neo4j Database
    </text>
    <text x="300" y="45" font-family="Arial, sans-serif" font-size="11" fill="white">
      Graph Database Platform
    </text>
    <text x="300" y="60" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Node-Relationship Model ‚Ä¢ Cypher Query Language
    </text>
    <text x="300" y="75" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ APOC Plugin ‚Ä¢ Graph Algorithms
    </text>
    <text x="300" y="90" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Clustering Support ‚Ä¢ Real-time Analytics
    </text>
    
    <!-- HubSpot CRM -->
    <rect x="580" y="0" width="260" height="100" rx="8" fill="#cd853f" stroke="#8b4513" stroke-width="2"/>
    <text x="710" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      üè¢ HubSpot CRM
    </text>
    <text x="590" y="45" font-family="Arial, sans-serif" font-size="11" fill="white">
      Customer Relationship Management
    </text>
    <text x="590" y="60" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Contacts &amp; Companies ‚Ä¢ Deals &amp; Pipelines
    </text>
    <text x="590" y="75" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Marketing Automation ‚Ä¢ Sales Analytics
    </text>
    <text x="590" y="90" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ API v3/v4 ‚Ä¢ Private App Integration
    </text>
  </g>
  
  <!-- Bidirectional arrows between layers -->
  <path d="M 150 300 Q 150 320 180 320 Q 210 320 210 340" stroke="#2d3436" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 210 300 Q 210 280 180 280 Q 150 280 150 260" stroke="#2d3436" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <path d="M 1250 300 Q 1250 320 1220 320 Q 1190 320 1190 340" stroke="#2d3436" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 1190 300 Q 1190 280 1220 280 Q 1250 280 1250 260" stroke="#2d3436" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Version and footer -->
  <text x="1550" y="990" text-anchor="end" font-family="Arial, sans-serif" font-size="10" fill="#636e72">
    CSM MCP Servers v3.0.0 - AI-Powered Multi-Database Integration Platform
  </text>
</svg>