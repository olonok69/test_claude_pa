# Cliente MCP - Interfaz de Chat IA Segura con Autenticaci√≥n Empresarial e Integraci√≥n Multi-Servidor

Una aplicaci√≥n integral basada en Streamlit que se conecta a servidores del Protocolo de Contexto de Modelo (MCP) para proporcionar interacciones impulsadas por IA con Yahoo Finance, bases de datos de grafos Neo4j y sistemas CRM de HubSpot. Cuenta con autenticaci√≥n de usuario de grado empresarial, gesti√≥n de sesiones, soporte SSL y capacidades de IA multi-proveedor.

## üöÄ Caracter√≠sticas

### **Seguridad Empresarial y Autenticaci√≥n**
- **Autenticaci√≥n Segura de Usuarios**: Hash de contrase√±as bcrypt con cifrado basado en salt
- **Gesti√≥n de Sesiones**: Sesiones de usuario persistentes con expiraci√≥n configurable (30 d√≠as por defecto)
- **Control de Acceso Basado en Roles**: Dominios de email pre-autorizados y gesti√≥n de usuarios
- **Soporte SSL/TLS**: HTTPS opcional con generaci√≥n de certificados auto-firmados
- **Cookies Seguras**: Cookies de autenticaci√≥n configurables con claves de cifrado personalizadas
- **Aislamiento de Usuarios**: Historiales de conversaci√≥n y datos de sesi√≥n separados por usuario

### **IA Avanzada e Integraci√≥n**
- **Soporte Multi-Proveedor de IA**: Cambio fluido entre OpenAI y Azure OpenAI
- **Integraci√≥n Triple de Servidores MCP**: Servidores MCP de Yahoo Finance, Neo4j y HubSpot
- **Interfaz de Chat en Tiempo Real**: Conversaciones interactivas con memoria de contexto completa
- **Seguimiento de Ejecuci√≥n de Herramientas**: Monitoreo integral y depuraci√≥n del uso de herramientas
- **Operaciones Conscientes del Esquema**: Recuperaci√≥n autom√°tica de esquemas para validaci√≥n inteligente de consultas
- **Conversaciones Conscientes del Contexto**: Mantiene historial de conversaciones y construye sobre interacciones previas

### **Experiencia de Usuario Moderna**
- **Interfaz con Pesta√±as**: Organizada en pesta√±as de Chat, Configuraci√≥n, Conexiones y Herramientas
- **Dise√±o Responsivo**: UI moderna con temas personalizables, animaciones y soporte m√≥vil
- **Panel de Usuario**: Informaci√≥n personal, gesti√≥n de sesiones y seguimiento de actividad
- **Gesti√≥n de Conversaciones**: Crear, cambiar, eliminar y organizar sesiones de chat
- **Descubrimiento de Herramientas**: Exploraci√≥n interactiva de herramientas MCP disponibles con documentaci√≥n
- **Estado en Tiempo Real**: Estado de conexi√≥n en vivo y monitoreo de salud

## üìã Prerrequisitos

- Python 3.11+
- Docker (opcional, para despliegue contenerizado)
- Servidores MCP activos para Yahoo Finance, Neo4j y/o HubSpot
- Clave API de OpenAI o configuraci√≥n de Azure OpenAI

## üõ†Ô∏è Instalaci√≥n

### Configuraci√≥n de Desarrollo Local

1. **Clonar el repositorio**
   ```bash
   git clone <tu-repo-url>
   cd client
   ```

2. **Instalar dependencias**
   ```bash
   pip install -r requirements.txt
   ```

3. **Configurar variables de entorno**
   
   Crear un archivo `.env` en el directorio cliente:
   ```env
   # Configuraci√≥n OpenAI (elegir una)
   OPENAI_API_KEY=tu_clave_openai_aqui
   
   # O Configuraci√≥n Azure OpenAI
   AZURE_API_KEY=tu_clave_azure
   AZURE_ENDPOINT=https://tu-endpoint.openai.azure.com/
   AZURE_DEPLOYMENT=tu_nombre_deployment
   AZURE_API_VERSION=2023-12-01-preview
   
   # Opcional: Habilitar SSL
   SSL_ENABLED=false
   ```

4. **Configurar autenticaci√≥n de usuarios**
   
   Generar credenciales de usuario con cuentas por defecto:
   ```bash
   python simple_generate_password.py
   ```
   
   Esto crea `keys/config.yaml` con usuarios pre-configurados:
   - **admin**: very_Secure_p@ssword_123!
   - **juan**: Larisa1000@
   - **giovanni_romero**: MrRomero2024!
   - **demo_user**: strong_password_123!

5. **Actualizar configuraci√≥n de servidores MCP**
   
   Editar `servers_config.json` para que coincida con los endpoints de tus servidores MCP:
   ```json
   {
     "mcpServers": {
       "Yahoo Finance": {
         "transport": "sse",
         "url": "http://mcpserver3:8002/sse",
         "timeout": 600,
         "headers": null,
         "sse_read_timeout": 900
       },
       "Neo4j": {
         "transport": "sse",
         "url": "http://mcpserver4:8003/sse",
         "timeout": 600,
         "headers": null,
         "sse_read_timeout": 900
       },
       "HubSpot": {
         "transport": "sse",
         "url": "http://mcpserver5:8004/sse",
         "timeout": 600,
         "headers": null,
         "sse_read_timeout": 900
       }
     }
   }
   ```

6. **Ejecutar la aplicaci√≥n**
   ```bash
   # Modo HTTP est√°ndar
   streamlit run app.py
   
   # O con SSL habilitado
   SSL_ENABLED=true python start_streamlit.py
   ```

### Despliegue Docker

1. **Construir la imagen Docker**
   ```bash
   docker build -t mcp-client .
   ```

2. **Ejecutar con variables de entorno**
   ```bash
   # Modo HTTP
   docker run -p 8501:8501 \
     -e OPENAI_API_KEY=tu_clave \
     -v $(pwd)/.env:/app/.env \
     -v $(pwd)/keys:/app/keys \
     mcp-client
   
   # Modo HTTPS
   docker run -p 8501:8501 -p 8502:8502 \
     -e OPENAI_API_KEY=tu_clave \
     -e SSL_ENABLED=true \
     -v $(pwd)/.env:/app/.env \
     -v $(pwd)/keys:/app/keys \
     -v $(pwd)/ssl:/app/ssl \
     mcp-client
   ```

3. **Generaci√≥n de Certificados SSL** (autom√°tica en Docker)
   ```bash
   # Los certificados se generan autom√°ticamente cuando SSL_ENABLED=true
   # O generar manualmente:
   python generate_ssl_certificate.py
   # O usando script shell:
   ./generate_ssl_certificate.sh
   ```

## üéØ Uso

### Primeros Pasos

1. **Lanzar la aplicaci√≥n**
   - HTTP: `http://localhost:8501`
   - HTTPS: `https://localhost:8502` (si SSL est√° habilitado)

2. **Autenticarse**:
   - Usar el panel de autenticaci√≥n de la barra lateral
   - Iniciar sesi√≥n con credenciales por defecto:
     - Usuario: `admin` / Contrase√±a: `very_Secure_p@ssword_123!`
     - Usuario: `juan` / Contrase√±a: `Larisa1000@`
     - Usuario: `giovanni_romero` / Contrase√±a: `MrRomero2024!`
     - Usuario: `demo_user` / Contrase√±a: `strong_password_123!`
   - Ver mensaje de bienvenida e informaci√≥n de sesi√≥n de usuario

3. **Configurar tu proveedor de IA** (pesta√±a Configuraci√≥n):
   - Seleccionar entre OpenAI o Azure OpenAI
   - Verificar que las credenciales est√©n cargadas (marca verde indica √©xito)
   - Ajustar par√°metros del modelo (temperatura: 0.0-1.0, tokens m√°x: 1024-10240)

4. **Conectar a servidores MCP** (pesta√±a Conexiones):
   - Hacer clic en "Conectar a Servidores MCP"
   - Verificar conexiones exitosas (muestra conteo de herramientas disponibles)
   - Verificar estado de salud de servidores individuales
   - Monitorear m√©tricas de conexi√≥n y rendimiento

5. **Explorar herramientas disponibles** (pesta√±a Herramientas):
   - Navegar herramientas por categor√≠a: Yahoo Finance, Neo4j, HubSpot
   - Ver documentaci√≥n detallada de herramientas y par√°metros
   - Buscar herramientas espec√≠ficas por nombre o descripci√≥n
   - Entender requisitos de herramientas y ejemplos de uso

6. **Comenzar a chatear** (pesta√±a Chat):
   - Hacer preguntas sobre mercados financieros, bases de datos o datos CRM
   - La IA selecciona y usa autom√°ticamente las herramientas apropiadas
   - Ver historial detallado de ejecuci√≥n de herramientas
   - Monitorear contexto y memoria de conversaci√≥n

### Consultas de Ejemplo

**Operaciones de An√°lisis Financiero:**
```
"¬øCu√°l es la puntuaci√≥n MACD actual para AAPL?"
"Calcula la estrategia Bollinger-Fibonacci para las acciones de Tesla durante 1 a√±o"
"Dame una puntuaci√≥n de an√°lisis t√©cnico combinado para Microsoft usando m√∫ltiples indicadores"
"Compara se√±ales de trading para AAPL, TSLA y MSFT"
```

**Operaciones de Base de Datos Neo4j:**
```
"Mu√©strame el esquema completo de la base de datos y explica la estructura"
"¬øCu√°ntos visitantes se convirtieron en clientes este a√±o?"
"Encuentra todas las relaciones entre nodos de persona y nodos de empresa"
"Crea un nuevo nodo de persona con nombre 'Alice' y enl√°zalo a una empresa existente"
"Valida esta consulta Cypher contra el esquema actual"
```

**Operaciones CRM HubSpot:**
```
"Obt√©n mis detalles de usuario de HubSpot y permisos"
"Mu√©strame todos los contactos creados este mes con su historial de compromiso"
"Encuentra empresas en la industria tecnol√≥gica y sus ofertas asociadas"
"Crea un nuevo contacto y empresa, luego as√≥cialos juntos"
"Lista todas las ofertas abiertas por encima de $10,000 y genera enlaces de HubSpot para verlas"
"Agrega una tarea de seguimiento para la oferta de Amazon y rastrea su progreso"
```

**Flujos de Trabajo Avanzados Multi-Sistema:**
```
"Analiza el rendimiento de las acciones de AAPL y crea una tarea de HubSpot para revisar nuestras inversiones tecnol√≥gicas"
"Compara datos de clientes entre nuestra base de datos Neo4j y CRM HubSpot"
"Encuentra ofertas de alto valor en HubSpot y haz referencia cruzada con relaciones de base de datos de grafos"
"Crea un reporte integral combinando an√°lisis financiero, insights de base de datos y datos CRM"
```

### Configuraci√≥n Avanzada

**Par√°metros del Modelo:**
- **Temperatura**: Controla la creatividad y aleatoriedad de la respuesta (0.0 = determinista, 1.0 = creativo)
- **Tokens M√°ximos**: Establece l√≠mite de longitud de respuesta (1024-10240 tokens)
- **Selecci√≥n de Proveedor**: Cambio din√°mico entre OpenAI y Azure OpenAI

**Gesti√≥n de Chat:**
- **Nuevas Conversaciones**: Crear sesiones de chat frescas con "Nuevo Chat"
- **Acceso al Historial**: Navegar y cambiar entre conversaciones previas
- **Gesti√≥n de Contexto**: Cada conversaci√≥n mantiene su propia memoria y contexto
- **Aislamiento de Sesi√≥n**: Las conversaciones est√°n aisladas por usuario autenticado

**Gesti√≥n de Sesi√≥n de Usuario:**
- **Seguimiento de Sesi√≥n**: Monitorear tiempo de inicio de sesi√≥n y duraci√≥n de sesi√≥n
- **Monitoreo de Actividad**: Rastrear uso de herramientas y patrones de conversaci√≥n
- **Cierre de Sesi√≥n Seguro**: Limpieza apropiada de sesi√≥n y seguridad
- **Soporte Multi-Usuario**: Datos y sesiones separados para cada usuario autenticado

## üèóÔ∏è Arquitectura

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   UI Streamlit    ‚îÇ    ‚îÇ   Agente         ‚îÇ    ‚îÇ   Servidores MCP    ‚îÇ
‚îÇ                   ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   LangChain      ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ                     ‚îÇ
‚îÇ  - Autenticaci√≥n  ‚îÇ    ‚îÇ  - Enrutamiento  ‚îÇ    ‚îÇ  - Yahoo Finance    ‚îÇ
‚îÇ  - Interfaz Chat  ‚îÇ    ‚îÇ    Herramientas  ‚îÇ    ‚îÇ  - Base Datos Neo4j ‚îÇ
‚îÇ  - Panel Config   ‚îÇ    ‚îÇ  - Proveedor LLM ‚îÇ    ‚îÇ  - CRM HubSpot      ‚îÇ
‚îÇ  - Visualizaci√≥n  ‚îÇ    ‚îÇ  - Gesti√≥n Mem.  ‚îÇ    ‚îÇ  - Herramientas     ‚îÇ
‚îÇ    Herramientas   ‚îÇ    ‚îÇ  - Consciente    ‚îÇ    ‚îÇ    Personalizadas   ‚îÇ
‚îÇ  - Gesti√≥n Sesi√≥n ‚îÇ    ‚îÇ    Contexto      ‚îÇ    ‚îÇ                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Componentes Clave

- **`app.py`**: Aplicaci√≥n principal Streamlit con middleware de autenticaci√≥n
- **`services/`**: L√≥gica de negocio central (servicios IA, gesti√≥n MCP, servicios Chat)
- **`ui_components/`**: Componentes UI reutilizables (pesta√±as, barra lateral, componentes principales)
- **`utils/`**: Funciones de ayuda (manejadores async, an√°lisis herramientas, prompts IA)
- **`config.py`**: Gesti√≥n de configuraci√≥n centralizada
- **`simple_generate_password.py`**: Generaci√≥n y gesti√≥n de credenciales de usuario

### Sistema de Autenticaci√≥n

- **Seguridad de Contrase√±as**: Hash bcrypt con salt para almacenamiento seguro de credenciales
- **Gesti√≥n de Sesiones**: Integraci√≥n streamlit-authenticator con sesiones persistentes
- **Seguridad de Cookies**: Cookies seguras, HTTPOnly con expiraci√≥n configurable
- **Control de Acceso**: Dominios de email pre-autorizados con validaci√≥n de usuario
- **Soporte Multi-Usuario**: Aislamiento completo de usuario con historiales de conversaci√≥n separados

### Soporte SSL/TLS

- **Generaci√≥n de Certificados**: Creaci√≥n autom√°tica de certificados auto-firmados
- **Servidor HTTPS**: Modo HTTPS Streamlit con configuraci√≥n SSL apropiada
- **Multi-Plataforma**: Generaci√≥n de certificados basada en Python para compatibilidad
- **Listo para Producci√≥n**: Configuraciones SSL configurables para despliegue en producci√≥n

## üîß Configuraci√≥n

### Proveedores de Modelo

La aplicaci√≥n soporta m√∫ltiples proveedores de IA configurados en `config.py`:

```python
MODEL_OPTIONS = {
    'OpenAI': 'gpt-4o',
    'Azure OpenAI': 'o3-mini',  # Usando deployment del entorno
}
```

### Gesti√≥n de Usuarios

Las credenciales de usuario se gestionan en `keys/config.yaml`. Para agregar/modificar usuarios:

1. **Editar el script de generaci√≥n de contrase√±as**:
   ```python
   # Editar simple_generate_password.py
   users = {
       'nuevo_usuario': {
           'password': 'contrase√±a_segura_123!',
           'name': 'Nombre Nuevo Usuario',
           'email': 'usuario@empresa.com'
       }
   }
   ```

2. **Generar nueva configuraci√≥n**:
   ```bash
   python simple_generate_password.py
   ```

3. **Reiniciar la aplicaci√≥n** para cargar nuevos usuarios

### Configuraci√≥n de Servidores MCP

Los endpoints de servidor se definen en `servers_config.json`. Cada servidor requiere:
- **transport**: M√©todo de conexi√≥n (t√≠picamente "sse")
- **url**: URL endpoint del servidor con protocolo y puerto apropiados
- **timeout**: Timeout de conexi√≥n en segundos
- **sse_read_timeout**: Timeout de eventos enviados por servidor para operaciones de larga duraci√≥n

### Configuraci√≥n SSL

SSL se configura a trav√©s de variables de entorno y archivos de certificado:

```env
# Habilitar modo SSL/HTTPS
SSL_ENABLED=true
```

Los certificados se generan autom√°ticamente en el directorio `ssl/`:
- `ssl/cert.pem` - Certificado SSL
- `ssl/private.key` - Clave privada (permisos seguros)

### Estilos y Temas

CSS personalizado se encuentra en `.streamlit/style.css` para personalizaci√≥n de UI:
- **Dise√±o Moderno**: UI contempor√°nea con soporte de tema oscuro/claro
- **Layout Responsivo**: Dise√±o amigable m√≥vil con layouts adaptativos
- **Elementos Interactivos**: Efectos hover, animaciones y transiciones suaves
- **Accesibilidad**: Ratios de alto contraste y marcado sem√°ntico

## üîí Caracter√≠sticas de Seguridad

### Seguridad de Autenticaci√≥n
- **Cifrado Empresarial**: Hash de contrase√±as bcrypt con rondas de salt configurables
- **Seguridad de Sesi√≥n**: Tokens de sesi√≥n seguros con expiraci√≥n configurable
- **Protecci√≥n de Cookies**: Atributos de cookie HTTPOnly, Secure y SameSite
- **Control de Acceso**: Autorizaci√≥n basada en dominio y validaci√≥n de usuario
- **Protecci√≥n Fuerza Bruta**: Limitaci√≥n de tasa y mecanismos de bloqueo de cuenta

### Seguridad API y Datos
- **Variables de Entorno**: Almacenamiento seguro de credenciales fuera del repositorio de c√≥digo
- **Validaci√≥n de Tokens**: Verificaci√≥n de clave API en tiempo real y verificaciones de salud
- **Sanitizaci√≥n de Entrada**: Protecci√≥n integral XSS e inyecci√≥n
- **Manejo de Errores**: Mensajes de error seguros sin exposici√≥n de datos sensibles
- **Cifrado SSL/TLS**: Cifrado de extremo a extremo para datos en tr√°nsito

### Seguridad de Sesi√≥n y Usuario
- **Aislamiento de Usuario**: Separaci√≥n completa de datos de usuario y conversaciones
- **Seguimiento de Sesi√≥n**: Logging detallado de actividad de usuario y patrones de acceso
- **Limpieza Autom√°tica**: Gesti√≥n y limpieza segura de datos de sesi√≥n
- **Protecci√≥n Entre Sesiones**: Prevenci√≥n de secuestro de sesi√≥n y ataques CSRF

## üêõ Soluci√≥n de Problemas

### Problemas de Autenticaci√≥n

**Problemas de Inicio de Sesi√≥n:**
- Verificar que `keys/config.yaml` exista y est√© formateado apropiadamente
- Verificar que las credenciales de usuario coincidan con las contrase√±as generadas
- Asegurar que los dominios de email est√°n en la lista pre-autorizada
- Limpiar cookies del navegador si se experimentan problemas persistentes de inicio de sesi√≥n

**Problemas de Sesi√≥n:**
- Verificar configuraci√≥n de cookie de sesi√≥n y configuraciones de expiraci√≥n
- Verificar que la clave de autenticaci√≥n coincida entre sesiones
- Monitorear estado de sesi√≥n en herramientas de desarrollador del navegador

### Problemas de Conexi√≥n

**Conexi√≥n Servidor MCP:**
- Verificar que todos los servidores MCP est√©n ejecut√°ndose y accesibles
- Verificar `servers_config.json` para URLs y puertos correctos del servidor
- Probar endpoints de salud de servidor individuales
- Monitorear estado de contenedor Docker con `docker-compose ps`

**Problemas de Red:**
- Asegurar conectividad de red apropiada entre contenedores
- Verificar configuraciones de firewall que no bloqueen puertos requeridos
- Verificar resoluci√≥n DNS para nombres de host de servidor

### Problemas SSL/HTTPS

**Problemas de Certificado:**
- Verificar que los certificados SSL est√©n generados apropiadamente en el directorio `ssl/`
- Verificar validez y fechas de expiraci√≥n de certificado
- Asegurar permisos de archivo apropiados en clave privada (600)

**Advertencias de Seguridad del Navegador:**
- Aceptar advertencias de certificado auto-firmado en navegador
- Agregar excepci√≥n de certificado para desarrollo localhost
- Usar modo HTTP si problemas SSL persisten en desarrollo

### Problemas de Clave API

**Configuraci√≥n OpenAI:**
- Confirmar que `OPENAI_API_KEY` est√° establecida en variables de entorno
- Probar validez de clave API a trav√©s del panel OpenAI
- Verificar l√≠mites y cuotas de uso API

**Configuraci√≥n Azure OpenAI:**
- Verificar que las cuatro variables de entorno Azure est√°n establecidas
- Probar accesibilidad de endpoint y nombre de deployment
- Confirmar compatibilidad de versi√≥n API

### Errores de Ejecuci√≥n de Herramientas

**Fallos de Validaci√≥n de Esquema:**
- Siempre llamar `get_neo4j_schema` antes de operaciones de base de datos
- Iniciar flujos de trabajo HubSpot con `hubspot-get-user-details`
- Verificar historial de ejecuci√≥n de herramientas para informaci√≥n de error detallada

**Errores de Permisos:**
- Verificar que el token HubSpot tiene scopes y permisos requeridos
- Verificar autenticaci√≥n de base de datos Neo4j y derechos de acceso
- Monitorear limitaci√≥n de tasa y uso de cuota API

### Problemas de Rendimiento

**Tiempos de Respuesta Lentos:**
- Monitorear tiempo de ejecuci√≥n de herramientas en los paneles de depuraci√≥n
- Verificar latencia de red a APIs externas
- Optimizar complejidad de consulta y volumen de datos

**Uso de Memoria:**
- Monitorear utilizaci√≥n de recursos de contenedor Docker
- Limpiar historial de conversaci√≥n si el uso de memoria es alto
- Reiniciar contenedores peri√≥dicamente para rendimiento √≥ptimo

### Modo Debug

Habilitar depuraci√≥n integral por:
1. Usar el expansor "Historial de Ejecuci√≥n de Herramientas" en la pesta√±a Chat
2. Verificar consola del navegador para errores JavaScript y problemas de red
3. Monitorear logs Streamlit en terminal para errores del lado del servidor
4. Revisar logs de autenticaci√≥n para problemas de inicio de sesi√≥n y sesi√≥n

## üîÑ Gesti√≥n de Usuarios

### Agregar Nuevos Usuarios

1. **Editar el script de generaci√≥n de contrase√±as**:
   ```bash
   nano simple_generate_password.py
   # Agregar nuevos usuarios al diccionario users con contrase√±as seguras
   ```

2. **Generar nueva configuraci√≥n**:
   ```bash
   python simple_generate_password.py
   ```

3. **Reiniciar la aplicaci√≥n** para cargar nuevas cuentas de usuario

### Gestionar Usuarios Existentes

- **Actualizaciones de Contrase√±a**: Regenerar `config.yaml` con nuevas contrase√±as
- **Cambios de Email**: Modificar informaci√≥n de usuario en el script de generaci√≥n
- **Gesti√≥n de Acceso**: Agregar/quitar emails de la lista pre-autorizada
- **Cambios de Rol**: Actualizar nombres de usuario y niveles de acceso

### Administraci√≥n de Sesi√≥n

- **Sesiones Activas**: Monitorear sesiones de usuario actuales en la barra lateral
- **Configuraci√≥n de Sesi√≥n**: Ajustar tiempos de expiraci√≥n en `config.yaml`
- **Pol√≠ticas de Seguridad**: Configurar configuraciones de cookie y par√°metros de seguridad
- **Actividad de Usuario**: Rastrear tiempos de inicio de sesi√≥n y uso de conversaci√≥n

## üîÑ Historial de Versiones

- **v2.0.0**: Sistema de autenticaci√≥n empresarial, soporte SSL, UI mejorada con pesta√±as
- **v1.5.0**: Soporte IA multi-proveedor, integraci√≥n de herramientas integral
- **v1.0.0**: Lanzamiento inicial con integraci√≥n MCP b√°sica e interfaz chat

## ü§ù Contribuir

### Directrices de Desarrollo

1. **Seguridad Primero**: Siempre seguir patrones de autenticaci√≥n al agregar caracter√≠sticas
2. **Pruebas Multi-Usuario**: Probar con m√∫ltiples cuentas de usuario para asegurar aislamiento apropiado
3. **Compatibilidad SSL**: Asegurar que nuevas caracter√≠sticas funcionen en modos HTTP y HTTPS
4. **Documentaci√≥n**: Actualizar README y documentaci√≥n en l√≠nea para nuevas caracter√≠sticas

### Consideraciones de Seguridad

- Nunca loggear o exponer contrase√±as de usuario, tokens de sesi√≥n o claves API
- Validar todas las entradas de usuario para vulnerabilidades de seguridad y ataques de inyecci√≥n
- Seguir pr√°cticas de codificaci√≥n segura para flujos de autenticaci√≥n y gesti√≥n de sesi√≥n
- Probar casos extremos de autenticaci√≥n, condiciones de error y l√≠mites de seguridad

### Procedimientos de Prueba

- **Pruebas de Autenticaci√≥n**: Verificar flujos de inicio/cierre de sesi√≥n para todos los tipos de usuario
- **Pruebas de Sesi√≥n**: Probar persistencia, expiraci√≥n y aislamiento de sesi√≥n
- **Pruebas SSL**: Verificar funcionalidad HTTPS y manejo de certificados
- **Pruebas Multi-Usuario**: Asegurar separaci√≥n apropiada de datos entre usuarios
- **Integraci√≥n de Herramientas**: Probar todas las conexiones de servidor MCP y funcionalidad de herramientas

---

**Versi√≥n**: 2.0.0  
**√öltima Actualizaci√≥n**: Junio 2025  
**Seguridad**: Streamlit Authenticator 0.3.2, hash contrase√±as bcrypt, soporte SSL/TLS  
**Compatibilidad**: Python 3.11+, Streamlit 1.44+, Docker 20+  
**Autenticaci√≥n**: Gesti√≥n de usuarios grado empresarial con aislamiento de sesi√≥n